%%{init: {
  'theme': 'base',
  'themeVariables': {
    'primaryColor': '#4a90d9',
    'primaryTextColor': '#ffffff',
    'primaryBorderColor': '#3a7bc8',
    'lineColor': '#6b7280',
    'secondaryColor': '#98c379',
    'tertiaryColor': '#e5c07b',
    'background': '#1e2228',
    'mainBkg': '#1e2228',
    'nodeBorder': '#528bff',
    'clusterBkg': '#2d333b',
    'clusterBorder': '#444c56',
    'titleColor': '#e6edf3',
    'edgeLabelBackground': '#1e2228'
  },
  'flowchart': {
    'nodeSpacing': 30,
    'rankSpacing': 50,
    'curve': 'basis'
  }
}}%%

flowchart LR
    subgraph timer["â±ï¸ å®šæ—¶å™¨"]
        T["æ¯15ç§’"]
    end

    T --> CHECK["ğŸ” ç½‘ç»œæ£€æµ‹"]

    CHECK --> |"âœ“ å·²è¿æ¥"| OK["âœ… æ— æ“ä½œ"]
    CHECK --> |"âœ— æœªè¿æ¥"| AP["ğŸ“¡ å¯åŠ¨AP"]

    AP --> WEB["ğŸŒ WebæœåŠ¡"]
    WEB --> CONFIG["ğŸ“± é…ç½®WiFi"]
    CONFIG --> RESTORE["ğŸ”„ è¿æ¥æ–°WiFi"]

    RESTORE -.-> |"å¾ªç¯æ£€æµ‹"| CHECK

    %% æ ·å¼å®šä¹‰ - ä½¿ç”¨é«˜å¯¹æ¯”åº¦é¢œè‰²ï¼Œç¡®ä¿åœ¨äº®æš—æ¨¡å¼ä¸‹éƒ½æ¸…æ™°
    classDef timerStyle fill:#3b82f6,stroke:#1d4ed8,stroke-width:1px,color:#ffffff
    classDef checkStyle fill:#f59e0b,stroke:#b45309,stroke-width:1px,color:#1c1917
    classDef successStyle fill:#22c55e,stroke:#15803d,stroke-width:1px,color:#1c1917
    classDef failStyle fill:#ef4444,stroke:#b91c1c,stroke-width:1px,color:#ffffff
    classDef actionStyle fill:#a855f7,stroke:#7c3aed,stroke-width:1px,color:#ffffff

    class T timerStyle
    class CHECK checkStyle
    class OK successStyle
    class AP failStyle
    class WEB,CONFIG,RESTORE actionStyle
